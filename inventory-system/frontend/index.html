<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/jpeg" href="logo.jpeg">
<title>Inventory Management System</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
/* Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body styling */
body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(135deg, #6a11cb, #2575fc);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

/* Container for all sections */
.container {
    display: flex;
    flex-wrap: wrap;
    gap: 40px;
    max-width: 1200px;
    width: 100%;
    justify-content: center;
    align-items: stretch;
}

/* Info card */
.info-card {
    background: #ffffff;
    padding: 50px 30px;
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    flex: 1;
    min-width: 300px;
    max-width: 450px;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.info-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.3);
}

.info-card h1 {
    font-size: 28px;
    color: #333;
    margin-bottom: 20px;
}

.info-card p {
    font-size: 16px;
    color: #666;
    margin-bottom: 30px;
}

/* Login/Register cards */
.auth-container {
    background: #ffffff;
    padding: 40px 30px;
    border-radius: 20px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    flex: 1;
    min-width: 300px;
    max-width: 450px;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.auth-container:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0,0,0,0.3);
}

.auth-container h2 {
    margin-bottom: 20px;
    color: #333;
}

/* Form inputs */
.auth-container input, .auth-container select {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 16px;
    box-sizing: border-box;
}

.auth-container button {
    width: 100%;
    padding: 12px;
    margin-top: 15px;
    background: #2575fc;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    font-weight: bold;
    transition: background 0.3s ease;
}

.auth-container button:hover {
    background: #1a5bd8;
}

.error {
    color: red;
    margin-top: 10px;
}

.auth-container p {
    margin-top: 10px;
    font-size: 14px;
}

.auth-container a {
    color: #2575fc;
    text-decoration: none;
    font-weight: bold;
}

.auth-container a:hover {
    text-decoration: underline;
}

/* Toggle links */
.toggle-links {
    display: flex;
    justify-content: space-around;
    margin-top: 30px; /* a bit more spacing from text */
}

.toggle-links button {
    width: 45%;
    padding: 12px 0; /* increased height */
    font-size: 18px; /* bigger font */
    font-weight: bold;
    border-radius: 10px; /* smoother edges */
    border: none;
    cursor: pointer;
    background: #6a11cb;
    color: #fff;
    transition: background 0.3s ease, transform 0.3s ease;
}

.toggle-links button.active {
    background: #2575fc;
}

.toggle-links button:hover {
    background: #1a5bd8;
    transform: translateY(-3px); /* small hover lift effect */
}
/* Hide register/login forms initially */
form {
    display: none;
}

form.active {
    display: block;
}

/* Responsive for mobile */
@media(max-width: 950px) {
    .container {
        flex-direction: column;
        align-items: center;
    }
}
</style>
</head>
<body>

<div class="container">
    <!-- Info card -->
    <div class="info-card">
        <h1>Welcome to Inventory Management System</h1>
        <p>Manage your products, stock, and orders efficiently. Use login or register below to get started. <br>Securely track and monitor your inventory          anytime, anywhere.</p><br>   
        <div class="toggle-links">
         <button id="loginTab" class="active">Login</button>
         <button id="registerTab">Register</button>
        </div>

    </div>

    <!-- Auth card (Login/Register) -->
    <div class="auth-container">
       
        <!-- Login Form -->
        <form id="loginForm" class="active">
            <h2>Login form!</h2>
            <input type="text" id="loginUsername" placeholder="Username" required />
            <input type="password" id="loginPassword" placeholder="Password" required />
            <button type="button" id="loginBtn">Login</button>
            <p id="loginError" class="error"></p>
        </form>

        <!-- Register Form -->
        <form id="registerForm">
            <h2>Register form!</h>
            <input type="text" id="registerUsername" placeholder="Username" required />
            <input type="password" id="registerPassword" placeholder="Password" required />
            <select id="registerRole">
                <option value="staff">Staff</option>
                <option value="admin">Admin</option>
            </select>
            <button type="button" id="registerBtn">Register</button>
            <p id="registerError" class="error"></p>
        </form>
    </div>
</div>

<script>
// Toggle forms
const loginTab = document.getElementById('loginTab');
const registerTab = document.getElementById('registerTab');
const loginForm = document.getElementById('loginForm');
const registerForm = document.getElementById('registerForm');

loginTab.addEventListener('click', () => {
    loginForm.classList.add('active');
    registerForm.classList.remove('active');
    loginTab.classList.add('active');
    registerTab.classList.remove('active');
});

registerTab.addEventListener('click', () => {
    registerForm.classList.add('active');
    loginForm.classList.remove('active');
    registerTab.classList.add('active');
    loginTab.classList.remove('active');
});

// Login functionality
document.getElementById('loginBtn').addEventListener('click', async () => {
    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value.trim();
    const errorEl = document.getElementById('loginError');
    errorEl.innerText = '';

    if (!username || !password) {
        errorEl.innerText = '‚ö†Ô∏è Please enter username and password';
        return;
    }

    try {
        const res = await fetch('http://localhost:5000/api/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
        });
        const data = await res.json();
        if (data.token) {
            localStorage.setItem('token', data.token);
            window.location.href = 'dashboard.html';
        } else {
            errorEl.innerText = data.error || 'Login failed';
        }
    } catch (err) {
        errorEl.innerText = 'üö´ Cannot connect to server. Please check if backend is running.';
    }
});

// Register functionality
document.getElementById('registerBtn').addEventListener('click', async () => {
    const username = document.getElementById('registerUsername').value.trim();
    const password = document.getElementById('registerPassword').value.trim();
    const role = document.getElementById('registerRole').value;
    const errorEl = document.getElementById('registerError');
    errorEl.innerText = '';

    if (!username || !password) {
        errorEl.innerText = '‚ö†Ô∏è Please enter all fields';
        return;
    }

    try {
        const res = await fetch('http://localhost:5000/api/auth/register', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password, role })
        });
        const data = await res.json();
        if (res.ok) {
            alert('‚úÖ Registration successful! Please login.');
            loginTab.click();
        } else {
            errorEl.innerText = data.error || 'Registration failed';
        }
    } catch (err) {
        errorEl.innerText = 'üö´ Cannot connect to server. Please check if backend is running.';
    }
});
</script>

</body>
</html>
